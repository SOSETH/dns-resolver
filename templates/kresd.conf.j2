-- ############################################################################
-- ########## Managed by ansible (role: dns-resolver), do not edit! ###########
-- ############################################################################

{% if kresd_local_only %}
-- Do not bind to any port - systemd does this, this service never executes
-- anything with root privileges
{% else %}
for name, addr_list in pairs(net.interfaces()) do
        net.listen(addr_list)
end
{% endif %}

-- DNSSEC is already enabled by /etc/default/kresd, so don't touch

-- drop privileges
user('knot-resolver', 'knot-resolver')

-- cache size
cache.size = {{ kresd_cache_size }}*MB

-- Load modules
modules = {
        'stats',
        ['hints < rrcache'] = '/etc/knot-resolver/hints'
}
